<section class="custom-promotional-banner-section" style="background-color: {{ section.settings.background_color }};">
  <div class="custom-promotional-banner">
    <div class="custom-promotional-banner-container">
      <h2 style="color: {{ section.settings.text_color }};">{{ section.settings.custom_banner_title }}</h2>
      <p style="color: {{ section.settings.text_color }};">{{ section.settings.custom_banner_description }}</p>
      <a href="{{ section.settings.custom_banner_button_link }}" class="custom-promotional-banner-button">
        {{- section.settings.custom_banner_button_text -}}
      </a>
    </div>
    <div class="custom-promotional-banner-images">
      {% for block in section.blocks %}
        {% if block.settings.image %}
          <img
            src="{{ block.settings.image | image_url: width: 300 }}"
            alt="{{ block.settings.alt_text | escape }}"
            class="custom-promotional-banner-image"
            loading="lazy"
            width="auto"
            height="300px"
            style="--promo-img-desktop-width: {{ block.settings.custom_promo_image_width }}px; --promo-img-rotate: {{ block.settings.custom_promo_image_rotate }}deg; --promo-img-top: {{ block.settings.custom_promo_image_top }}px;"
          >
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

{% stylesheet %}
  .custom-promotional-banner-section {
    width: 100%;
    box-sizing: border-box;
    overflow: hidden;
  }
  .custom-promotional-banner {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    gap: 64px;
    padding: 96px 120px 16px 120px;
    margin-bottom: 60px;
  }
  .custom-promotional-banner-container {
    gap: 24px;
  }
  .custom-promotional-banner-container h2 {
    font-family: 'True North Black';
    font-weight: 400;
    font-size: 72px;
    line-height: 90%;
    letter-spacing: -4%;
    text-transform: uppercase;
    text-align: center;
  }
  .custom-promotional-banner-container p {
    font-family: 'Open Sans', sans-serif;
    font-weight: 400;
    font-size: 18px;
    line-height: 160%;
    letter-spacing: 0%;
    text-align: center;
  }
  .custom-promotional-banner-button {
    font-family: 'True North Bold', sans-serif;
    background-color: #9b3462;
    color: #fef3f3;
    border: none;
    border-radius: 50px;
    padding: 14px 32px;
    font-weight: bold;
    text-transform: uppercase;
    text-decoration: none;
    cursor: pointer;
    outline: none;
    box-shadow: none;
  }
  .custom-promotional-banner-button:hover {
    background-color: #ffffff;
    border: 1px solid #9b3462;
    color: #9b3462;
    text-decoration: none;
    transition: background-color 0.3s, color 0.3s;
  }
  .custom-promotional-banner-images {
    display: flex;
    position: relative;
    justify-content: center;
    align-items: center;
  }
  .custom-promotional-banner-images img {
    margin-right: -20px;
  }

  .custom-promotional-banner-wave {
    display: block;
    width: 100%;
    line-height: 0;
    margin-top: -1px;
  }

  .custom-promotional-banner-wave svg {
    display: block;
    width: 100%;
    height: auto;
  }

  .custom-promotional-banner-wave .wave-fill {
    fill: #ffb1bb;
  }
  .custom-promotional-banner-image {
    transition: transform 0.4s ease;
    transform: translateY(var(--promo-img-top, 0px)) rotate(var(--promo-img-rotate, 0deg));
  }

  .custom-promotional-banner-image:hover {
    transform: translateY(var(--promo-img-top, 0px)) rotate(calc(var(--promo-img-rotate, 0deg) + 5deg)) scale(1.3);
    z-index: 3;
  }

  @media (max-width: 1024px) {
    .custom-promotional-banner-image {
      width: calc(var(--promo-img-desktop-width, 300px) * 0.75) !important;
    }
    .custom-promotional-banner-images img {
      margin-right: -50px;
    }
  }

  @media (max-width: 768px) {
    .custom-promotional-banner {
      gap: 32px;
      padding: 40px 24px 24px 24px;
      margin-bottom: 60px;
    }
    .custom-promotional-banner-images {
      width: 100%;
    }
    .custom-promotional-banner-images img {
      margin-right: -60px;
      height: 250px;
    }
    .custom-promotional-banner-container h2 {
      font-size: 28px;
      line-height: 90%;
      letter-spacing: -2%;
    }
    .custom-promotional-banner-container p {
      font-size: 16px;
    }
    .custom-promotional-banner-image {
      transition: transform 0.4s ease;
      transform: translateY(var(--promo-img-top, 0px)) rotate(var(--promo-img-rotate, 0deg));
    }

    .custom-promotional-banner-image:hover {
      transform: translateY(var(--promo-img-top, 0px)) rotate(calc(var(--promo-img-rotate, 0deg) + 5deg)) scale(1.2);
      z-index: 3;
    }
  }
{% endstylesheet %}

<!-- Wave divider -->
<div class="custom-promotional-banner-wave" aria-hidden="true">
  <svg
    width="1440"
    height="24"
    viewBox="0 0 1440 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    preserveAspectRatio="none"
    role="img"
  >
    <path class="wave-fill" d="M1440 5.53842C1419.06 -1.84614 1398.12 -1.84614 1377.18 5.53841C1356.24 12.923 1335.3 12.923 1314.36 5.53842C1293.42 -1.84614 1272.48 -1.84614 1251.54 5.53842C1230.6 12.923 1209.66 12.923 1188.72 5.53843C1167.78 -1.84613 1146.84 -1.84613 1125.9 5.53842C1104.96 12.9229 1084.02 12.9229 1063.08 5.53842C1042.14 -1.84614 1021.2 -1.84613 1000.26 5.53843C979.32 12.9229 958.38 12.9229 937.44 5.53842C916.5 -1.84614 895.56 -1.84612 874.62 5.53843C853.68 12.9229 832.74 12.9229 811.8 5.53843C790.86 -1.84613 769.92 -1.84613 748.98 5.53844C728.04 12.9229 707.1 12.9229 686.16 5.53843C665.22 -1.84613 644.28 -1.84613 623.34 5.53843C602.4 12.9231 581.46 12.9231 560.52 5.53844C539.58 -1.84612 518.64 -1.84612 497.7 5.53843C476.76 12.923 455.82 12.923 434.88 5.53843C413.94 -1.84612 393 -1.84612 372.06 5.53844C351.12 12.923 330.18 12.923 309.24 5.53843C288.3 -1.84611 267.36 -1.84611 246.42 5.53844C225.48 12.923 204.54 12.923 183.6 5.53844C162.66 -1.84612 141.72 -1.84612 120.78 5.53845C99.8398 12.923 78.8999 12.923 57.9598 5.53844C37.0199 -1.84612 16.0798 -1.84612 -4.86011 5.53844C-25.8002 12.923 -46.7401 12.923 -67.6801 5.53845C-88.6201 -1.84611 -109.56 -1.84611 -130.5 5.53844C-151.44 12.923 -172.38 12.923 -193.32 5.53845C-214.26 -1.84611 -235.2 -1.84611 -256.14 5.53845C-277.08 12.923 -298.02 12.923 -318.96 5.53846C-339.9 -1.8461 -360.84 -1.8461 -381.78 5.53845C-402.72 12.923 -423.66 12.923 -444.6 5.53845C-465.54 -1.84611 -486.48 -1.84612 -507.42 5.53845C-528.36 12.923 -549.3 12.923 -570.24 5.53845C-591.18 -1.84611 -612.12 -1.84611 -633.06 5.53846C-654 12.923 -674.94 12.9229 -695.88 5.53846C-716.82 -1.8461 -737.76 -1.84611 -758.7 5.53845C-779.64 12.9229 -800.58 12.9229 -821.52 5.53846C-842.46 -1.8461 -863.4 -1.8461 -884.34 5.53845C-905.28 12.9231 -926.22 12.9231 -947.16 5.53847C-968.1 -1.84609 -989.04 -1.8461 -1009.98 5.53846C-1030.92 12.9231 -1051.86 12.9231 -1072.8 5.53845C-1093.74 -1.84610 -1114.68 -1.84609 -1135.62 5.53846C-1156.56 12.9231 -1177.5 12.9231 -1198.44 5.53846C-1219.38 -1.84610 -1240.32 -1.84608 -1261.26 5.53847C-1282.2 12.9231 -1303.14 12.9231 -1324.08 5.53846C-1345.02 -1.84609 -1365.96 -1.84610 -1386.9 5.53847C-1407.84 12.923 -1428.78 12.923 -1449.72 5.53847C-1470.66 -1.84609 -1491.6 -1.84609 -1512.54 5.53846C-1533.48 12.923 -1554.42 12.923 -1575.36 5.53847C-1596.3 -1.84608 -1617.24 -1.84609 -1638.18 5.53847C-1659.12 12.923 -1680.06 12.923 -1701 5.53848L-1701 24L1440 24.0003L1440 5.53842Z" fill="#FFB1BB"/>
  </svg>
</div>

{% schema %}
{
  "name": "Custom Promotional Banner",
  "settings": [
    {
      "type": "richtext",
      "id": "custom_banner_title",
      "label": "Banner Title"
    },
    {
      "type": "text",
      "id": "custom_banner_description",
      "label": "Banner Description",
      "default": "Your small-mediums size subheading goes here."
    },
    {
      "type": "text",
      "id": "custom_banner_button_text",
      "label": "Banner Button Text",
      "default": "BUILD MY BOX"
    },
    {
      "type": "url",
      "id": "custom_banner_button_link",
      "label": "Banner Button Link"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#000000"
    },
    {
      "type": "color_background",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Alt Text",
          "default": "Promotional Image"
        },
        {
          "type": "number",
          "id": "custom_promo_image_rotate",
          "label": "Image Rotate (degrees)",
          "default": 0
        },
        {
          "type": "number",
          "id": "custom_promo_image_top",
          "label": "Image Y Position (px)",
          "default": 0
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Promotional Banner"
    }
  ]
}
{% endschema %}
